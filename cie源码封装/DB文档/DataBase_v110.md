# 电竞前端API表设计 Version1.1.0


## 1.register[注册表]
 
### 
用户注册表	：所有来源注册皆保存数据到register表中，作为用户的底层数据,注册表首次注册之后不可能更改[只记录首次注册信息]。<br />
特殊说明		: 若用户通过第三方登入平台[如微信授权],当第三方平台信息有改动，注册表数据也不变动，会修改上层用户信息表数据
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 			|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|用户唯一标示uuid		|
| type    		| 注册类型    	| tinyint  	| 4 	| 否    	|  1   	|   	|1手机号2微信3QQ		|
| account		| 注册账号   	| varchar   | 50   	| 否    	|  无   	|     	|手机号/第三方标识  	|
| nickname  	| 用户昵称    	| varchar  	| 50   	| 否    	|  无   	|   	|					|
| id_card  		| 身份证号    	| char  	| 20    | 否    	|  无   	|   	|    				|
| name    		| 身份证姓名   	| varchar	| 50    | 否    	|  无   	|    	|    				|
| mobile  		| 手机号    		| char  	| 20    | 否    	|  无   	|   	|					|
| icon  		| 头像URL    	| varchar  	| 100   | 否    	|  无   	|   	|					|
| sex  			| 性别    		| varchar  	| 20   	| 否    	|  无   	|   	|[男、女]				|
| age  			| 年龄    		| int  		| 11    | 否    	|  0   	|   	|					|
| address  		| 地址    		| varchar  	| 100   | 否    	|  无   	|   	|[省 市 区 详细]  	|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除			|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    		|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填	|


## 2.dj_user[用户信息表]
### 
用户信息表	：用户信息表首次记录根据注册表信息填写。<br />
字段说明		: uuid字段是注册表的id,作为用户系统的唯一标识【外键：register.id】<br />
特殊说明		: 若用户通过第三方登入平台[如微信授权]每次授权可更改用户信息[根据需求也可提供用户信息修改接口]
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 			|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	|p key	|自增ID				|
| uuid			| 用户唯一标识   	| bigint   	| 20    | 否    	|  无   	|unique |用户唯一标示uuid		|
| nickname		| 用户昵称   	| varchar   | 50    | 否    	|  无   	|     	|    				|
| wx_account	| 微信账号   	| varchar   | 50    | 否    	|  无   	|     	|    				|
| icon    		| 用户ICON    	| varchar  	| 100 	| 否    	|  无   	|   	|    				|
| sex    		| 性别   		| char  	| 10    | 否    	|  无  	|     	|    				|
| age    		| 年龄    		| tinyint  	| 4    	| 否    	|  0   	|     	|    				|
| address 		| 家庭住址    	| varchar  	| 100  	| 否    	|  无   	|     	|省 市 区[空格隔开]	|
| status    	| 认证状态    	| tinyint  	| 4    	| 否    	|  1   	| index	|1普通2身份证认证		|
| points    	| 总积分    		| int  		| 11 	| 否    	|  无   	|   	|预留    			|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除			|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    		|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填	|


## 3.dj_loginhis[用户登录历史记录]
### 
表说明		：记录用户登录流水信息。<br />
字段说明		: uuid字段是注册表的id,作为用户系统的唯一标识【外键：register.id】<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 			|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|用户唯一标示uuid		|
| uuid			| 用户UUID   	| bigint   	| 20    | 否    	|  无   	|     	|    				|
| login_type	| 登录类型    	| tinyint  	| 20 	| 否    	|  无   	|   	|1pc2ios3android 	|
| ip    		| IP地址    		| char  	| 20 	| 否    	|  无   	|   	|客户端登录IP   		|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除			|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    		|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填	|


## 4.dj_game[游戏基础表]
### 
表说明		：游戏基础表为配置表，数据通过管理系统录入。<br />
字段说明		: uuid字段是注册表的id,作为用户系统的唯一标识【外键：register.id】<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 				|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|----------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|游戏唯一ID				|
| name			| 游戏名   		| varchar   | 50   	| 否    	|  无   	|     	|    					|
| icon    		| 游戏ICON    	| varchar  	| 100 	| 否    	|  无   	|   	|游戏icon图   			|
| img    		| 游戏大图    	| varchar  	| 100 	| 否    	|  无   	|   	|游戏img图   			|
| type    		| 赛事类型		| tinyint  	| 4 	| 否    	|  1   	|   	|[1个人赛2团队赛]			|
| info    		| 游戏简介    	| varchar  	| 200 	| 否    	|  无   	|   	|游戏简介   				|
| g_account    	| 是否填写账号	| tinyint  	| 4 	| 否    	|  1   	|   	|1必须2可选0不需要		|
| g_nickname   	| 是否填写名称	| tinyint  	| 4 	| 否    	|  0   	|   	|1必须2可选0不需要		|
| g_level   	| 是否填写level	| tinyint  	| 4 	| 否    	|  0   	|   	|1必须2可选0不需要 		|
| g_zone    	| 是否填写区服 	| tinyint  	| 4 	| 否    	|  0   	|   	|1必须2可选0不需要		|
| status    	| 游戏状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|1上线2下线				|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除				|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    			|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填		|

## 5.dj_gameoperation[管理员操作记录-游戏基础表]
### 
表说明		：记录管理员添加、上线、下线、删除等操作。<br />
字段说明		: info数据记录格式位字符串拼接数据<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 				|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|----------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|自增ID					|
| g_id   		| 游戏ID    		| bigint    | 20    | 否		|  无	| p key	|游戏基础表ID	[dj_game.id]|
| name			| 游戏名   		| varchar   | 50   	| 否    	|  无   	|     	|    					|
| admin			| 管理员ID   	| int   	| 11   	| 否    	|  无   	|     	|    					|
| type			| 操作类型   	| tinyint   | 4   	| 否    	|  无   	|     	|1添加2删除3上线4下线5修改	|
| info			| 更改数据info   | varchar   | 200   | 否    	|  无   	|     	|记录更新数据,字符串拼接	|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除				|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    			|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填		|

## 6.dj_zone[区服表]
### 
表说明		：区服表为配置表，数据通过后端管理系统录入。<br />
字段说明		: uuid字段是注册表的id,作为用户系统的唯一标识<br />
特殊说明	    : 该表依赖与游戏基础表,当游戏基础表中g_zone=1或2时，需要配置区服信息，供用户下拉选择区服信息
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|区服ID						|
| g_id    		| 游戏ID    		| bigint  	| 20 	| 否    	|  无   	|   	|游戏基础表ID	[dj_game.id]	|
| g_name    	| 游戏名  		| varchar  	| 50 	| 否    	|  无   	|   	|游戏基础表名称  				|
| name    		| 区服名    		| varchar  	| 50 	| 否    	|  无   	|   	|   						|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|

## 7.dj_zoneoperation[管理员操作记录-区服修改表]
### 
表说明		：记录管理员添加、上线、下线、删除等操作。<br />
字段说明		: info数据记录格式位字符串拼接数据<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 				|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|----------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|自增ID					|
| z_id   		| 区服ID    		| bigint    | 20    | 否		|  无	| p key	|区服配置表ID	[dj_zone.id]|
| admin			| 管理员ID   	| int   	| 11   	| 否    	|  无   	|     	|    					|
| type			| 操作类型   	| tinyint   | 4   	| 否    	|  无   	|     	|1添加2删除3修改			|
| info			| 更改数据info   | varchar   | 200   | 否    	|  无   	|     	|记录更新数据,字符串拼接	|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除				|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    			|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填		|



## 8.dj_mygame[我的游戏信息]
### 
表说明		：当用户添加游戏信息成功，会在该表记录，记录用户的游戏信息数据。<br />
字段说明		: g_id字段是游戏基础表id,g_zone字段是区服表id<br />
特殊说明	    : 该表依赖与游戏基础表,当游戏基础表中g_zone=1或2时，需要配置区服信息，供用户下拉选择区服信息
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 				|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|----------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|我的游戏ID[register.id]	|
| uuid			| 用户UUID   	| bigint   	| 20    | 否    	|  无   	|     	|用户唯一标示uuid    		|
| g_id    		| 游戏ID    		| bigint  	| 20 	| 否    	|  无   	|   	|游戏基础表ID[dj_game.id]	|
| is_default    | 默认约战    	| tinyint  	| 4 	| 否    	|  0   	|   	|[1是0否]   				|
| g_account    	| 游戏账号    	| varchar  	| 50 	| 否    	|  无   	|   	|   					|
| g_nickname  	| 游戏昵称    	| char  	| 50 	| 否    	|  无   	|   	|   					|
| g_level    	| 游戏level    	| varchar  	| 50 	| 否    	|  无   	|   	|   					|
| g_zone    	| 区服ID    		| int  		| 1 	| 否    	|  无   	|   	|游戏区服配置表ID			|
| points    	| 游戏积分    	| int  		| 20 	| 否    	|  无   	|   	|						|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除				|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    			|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填		|


## 9.dj_group[战队表]
### 
表说明		：战队是根据游戏生成的，一个战队对应一个游戏。<br />
字段说明		: g_id字段是游戏基础表id,uuids字段是战队成员的uuid[多uuid用,隔开]<br />
特殊说明		: name战队名唯一
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|战队ID						|
| name			| 战队名   		| varchar   | 50   	| 否    	|  无   	|     	|    						|
| icon    		| 战队ICON   	| varchar  	| 100 	| 否    	|  无   	|   	|   						|
| info    		| 战队宣言    	| varchar  	| 100 	| 否    	|  无   	|   	|   						|
| g_id   		| 游戏ID    		| bigint    | 20    | 否		|  无	| index	|游戏基础表ID	[dj_game.id]	|
| g_name   		| 游戏名    		| varchar   | 50    | 否		|  无	| 		|							|
| m_id   		| 赛区ID    		| int    	| 11    | 否		|  0	| 		|							|
| status    	| 战队审核状态   	| tinyint  	| 4    	| 否    	|  0   	| 		|1审核中2通过2拒绝			|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|

## 10.dj_groupuser[战队成员表]
### 
表说明		：战队是根据游戏生成的，一个战队对应一个游戏。<br />
字段说明		: g_id字段是游戏基础表id,uuids字段是战队成员的uuid[多uuid用,隔开]<br />
特殊说明		: name战队名唯一
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	| 							|
| group_id		| 战队ID   		| bigint   	| 20   	| 否    	|  无   	| index |    						|
| group_name    | 战队名   		| varchar  	| 50 	| 否    	|  无   	|   	|   						|
| g_id    		| 游戏ID    		| bigint  	| 20 	| 否    	|  无   	| index |   						|
| uuid   		| UUID    		| bigint    | 20    | 否		|  无	| index	|							|
| type   		| 成员身份    	| tinyint  	| 4    	| 否		|  无	| 		|1队长2副队长3普通成员			|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|


## 11.dj_grouphis[战队信息变更历史记录]
### 
表说明		：当战队数据有变动，记录变动数据[如用户加入战队、退出战队等]。<br />
字段说明		: type[1加入战队2退队3解散]当type=3时，需软删除战队数据,释放战队名<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 						|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|------------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|记录ID							|
| uuid			| 用户uuid   	| bigint   	| 20    | 否    	|  无   	|     	|操作用户UUID    				|
| group_id    	| 战队ID    		| bigint  	| 20 	| 否    	|  无   	| index |战队ID[dj_group.id]				|
| group_name    | 战队名    		| varchar  	| 50 	| 否    	|  无   	|   	|战队名	 						|
| type    		| 变更类型    	| tinyint  	| 4 	| 否    	|  1   	|   	|1加战队2退队3解散4变队长5变副队长	|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除						|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    					|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填				|

## 12.dj_matchapply[大赛报名申请表]
### 
表说明		：战队是根据游戏生成的，一个战队对应一个游戏。<br />
字段说明		: g_id字段是游戏基础表id,uuids字段是战队成员的uuid[多uuid用,隔开]<br />
特殊说明		: name战队名唯一
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|战队ID						|
| g_id   		| 游戏ID    		| bigint    | 20    | 否		|  无	| index	|游戏基础表ID	[dj_game.id]	|
| g_name   		| 游戏名   		| varchar  	| 50    | 否		|  无	| 		|游戏名						|
| type			| 赛事类型   	| tinyint   | 4   	| 否    	|  无   	|     	|1战队赛2个人赛				|
| join_id    	| 参赛者id   	| bigint  	| 20 	| 否    	|  无   	|   	|用户uuid或战队表id  			|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|



## 13.dj_matchapplyoperation[大赛报名审核表]
### 
表说明		：战队是根据游戏生成的，一个战队对应一个游戏。<br />
字段说明		: g_id字段是游戏基础表id,uuids字段是战队成员的uuid[多uuid用,隔开]<br />
特殊说明		: name战队名唯一
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|战队ID						|
| g_id   		| 游戏ID    		| bigint    | 20    | 否		|  无	| index	|游戏基础表ID	[dj_game.id]	|
| g_name   		| 游戏名   		| varchar  	| 50    | 否		|  无	| 		|游戏名						|
| type			| 赛事类型   	| tinyint   | 4   	| 否    	|  无   	|     	|1战队赛2个人赛				|
| join_id    	| 参赛者id   	| bigint  	| 20 	| 否    	|  无   	|   	|用户uuid或战队表id  			|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|

## 14.dj_matchzone[大赛赛区配置表]
### 
表说明		：战队是根据游戏生成的，一个战队对应一个游戏。<br />
字段说明		: g_id字段是游戏基础表id,uuids字段是战队成员的uuid[多uuid用,隔开]<br />
特殊说明		: name战队名唯一
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|赛区ID						|
| g_id   		| 游戏ID    		| bigint    | 20    | 否		|  无	| index	|游戏基础表ID	[dj_game.id]	|
| name   		| 赛区名   		| varchar  	| 50    | 否		|  无	| 		|游戏名						|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|



## 15.dj_sharehis[二维码分享历史记录]
### 
表说明		：当战队成员发出邀请新成员时，发出二维码时，记录邀请数据。<br />
字段说明		: group_id字段为战队id<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|操作记录ID					|
| uuid			| 用户uuid   	| bigint   	| 20    | 否    	|  无   	|     	|分享用户UUID    			|
| group_id    	| 战队ID    		| bigint  	| 20 	| 否    	|  无   	|   	|战队表ID战队ID[dj_group.id]	|
| group_name    | 战队名    		| varchar  	| 50 	| 否    	|  无   	|   	|   						|
| url    		| 二维码URL    	| varchar  	| 100 	| 否    	|  无   	|   	|   						|	
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|


## 16.dj_invitation[队员受邀记录]
### 
表说明		：受邀人根据邀请二维码识别后，授权进入平台时记录，受邀记录。<br />
字段说明		: group_id字段为战队id<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 				|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|----------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|操作记录ID				|
| uuid			| 邀请人uuid   	| bigint   	| 20    | 否    	|  无   	|     	|   		|
| group_id    	| 战队ID    		| bigint  	| 20 	| 否    	|  无   	| index |申请战队ID[dj_group.id]	|
| group_name    | 战队名    		| varchar  	| 50 	| 否    	|  无   	|   	|申请战队名	 			|
| i_uuid    	| 受邀人uuid    	| bigint  	| 20 	| 否    	|  无   	|   	|   					|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除				|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    			|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填		|


## 17.dj_invitationhis[申请列表处理记录表]
### 
表说明		：受邀人根据邀请二维码识别后，授权进入平台时记录，受邀记录。<br />
字段说明		: group_id字段为战队id<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 				|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|----------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|操作记录ID				|
| uuid			| 操作者uuid   	| bigint   	| 20    | 否    	|  无   	|     	|受邀用户UUID    		|
| group_id    	| 战队ID    		| bigint  	| 20 	| 否    	|  无   	| index |申请战队ID[dj_group.id]	|
| i_uuid    	| 受邀人uuid    	| bigint  	| 20 	| 否    	|  无   	|   	|   					|
| status    	| 邀请处理状态   	| tinyint  	| 4    	| 否    	|  0   	| index	|1同意2忽略				|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除				|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    			|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填		|



## 18.dj_pmatch[约战表]
### 
表说明		：约战系统分为2部分：约战1对1和约战组员[1对1记录比较结果；约组员可以点赞操作]。<br />
字段说明		: g_id字段为游戏基础表id<br />
特殊说明		: 约战最终结果会记录积分。1对1结果胜利+50积分，败-10积分；点赞+10点衰-10<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|约战ID						|
| uuid			| 约战者UUID   	| bigint   	| 20    | 否    	|  无   	| index |约战用户UUID    			|
| g_id    		| 基础表游戏ID   	| bigint  	| 20 	| 否    	|  无   	| index |游戏ID  		|
| g_name  		| 游戏名称    	| varchar  	| 50 	| 否    	|  无   	|   	|   						|
| type    		| 约战类型    	| tinyint  	| 4 	| 否    	|  1   	|   	|1 1vs1 2约组队  			|
| date    		| 约战时间    	| datetime  |   	| 否    	|  无   	|   	|约战时间					|
| o_uuid    	| 对手或队员uuid 	| varchar   |   	| 否    	|  无   	|   	|迎战uuid或者组队uuid			|
| status    	| 约战状态    	| tinyint  	| 4 	| 否    	|  1   	|   	|1待迎战2待结果3审核...10过期	|
| result    	| 约战结果    	| tinyint  	| 4 	| 否    	|  1   	|   	|1约被赞[约战胜]2迎战被赞[迎战胜]3互赞|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|

## 19.dj_pmatchhis[约战操作历史记录表]
### 
表说明		：记录约战操作信息，如点赞等<br />
字段说明		: g_id字段为游戏基础表id<br />
特殊说明		: <br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|自增ID						|
| p_id			| 约战ID   		| bigint   	| 20    | 否    	|  无   	| index |约战id[dj_pmatch.id]    	|
| type    		| 约战类型    	| tinyint  	| 4 	| 否    	|  1   	|   	|1 1vs1 2约组队  			|
| uuid    		| UUID   		| bigint  	| 20 	| 否    	|  无   	| index |用户UUID   					|
| o_type  		| 操作类型    	| tinyint  	| 4 	| 否    	|  无   	|   	|1点赞[点胜]2点衰[点败]3上截图	|
| pic    		| 截图    		| varchar  	| 200 	| 否    	|  1   	|   	|约战截图证明[多张,隔开]  		|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|


## 20.dj_pmatchoperation[后端人员：约战操作记录]
### 
表说明		：当约战出现争议，后端管理系统人员执行操作<br />
字段说明		: uid字段为管理系统用户uid[根据后台管理用户系统，后期暂定]<br />
特殊说明		: 该表字段暂定，后期根据后台管理系统来修改<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 					|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|--------------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|自增ID						|
| admin    		| 管理人员ID   	| int  		| 11 	| 否    	|  无   	| index |管理人员ID   				|
| p_id			| 约战ID   		| bigint   	| 20    | 否    	|  无   	| index |约战id[dj_pmatch.id]    	|
| type    		| 约战类型    	| tinyint  	| 4 	| 否    	|  1   	|   	|1 1vs1 2约组队  			|
| result  		| 操作类型    	| tinyint  	| 4 	| 否    	|  无   	|   	|1约战者胜2迎战者胜			|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除					|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    				|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填			|


## 21.dj_pointshis[积分变更历史记录]
### 
表说明		：记录积分变更历史记录，如点赞+10积分等<br />
字段说明		: g_id字段为游戏基础表id<br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 			|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|记录ID				|
| uuid			| UUID   		| bigint   	| 20    | 否    	|  无   	|     	|用户UUID    		|
| g_id			| 游戏ID   		| bigint   	| 20    | 否    	|  无   	|     	|游戏ID[dj_game.id] 	|
| type    		| 操作类型    	| tinyint  	| 4 	| 否    	|  1   	| 		|1约战2约组  		|
| p_type    	| 积分变更类型   	| tinyint  	| 4 	| 否    	|  1   	|   	|1增2减	 			|
| points    	| 变更值    		| int  		| 11 	| 否    	|  0   	|   	|		  			|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除			|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    		|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填	|


## 22.胜率统计表[每天凌晨1点更新]
### 
表说明		：约战胜率统计表<br />
字段说明		: <br />
###

| 字段  			| 字段说明		|类型 		| 长度	|是否可空|默认值	| 索引 	|其他说明 			|
| --------------|:-------------:| ---------:| ------|:-----:| -----:|------:|------------------:|
| id   			| 自增ID    		| bigint    | 20    | 否		|  无	| p key	|记录ID				|
| uuid			| UUID   		| bigint   	| 20    | 否    	|  无   	| index |用户UUID    		|
| g_id			| 游戏ID   		| bigint   	| 20    | 否    	|  无   	| index |游戏ID    			|
| g_name		| 游戏名   		| varchar   | 50    | 否    	|  无   	| 	 	|游戏名    			|
| date			| 统计日期   	| int   	| 11    | 否    	|  无   	| index |格式20170830 		|
| percent    	| 胜率百分比    	| varchar  	| 20 	| 否    	|     	| 		|胜率百分比89.9		|
| del    		| 数据状态    	| tinyint  	| 4    	| 否    	|  0   	| index	|0正常1软删除			|
| time    		| 记录时间    	| datetime  |     	| 否    	|  无   	|     	|插入数据必填    		|
| update_time	| 记录修改时间	| datetime  |     	| 否    	|  无   	|     	|插入、更新数据必填	|